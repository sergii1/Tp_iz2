language: cpp
os: linux
compiler:
  - gcc
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - valgrind
      - cppcheck


script:
  # скрипт сборки и тестирования проекта:
  - mkdir build
  - cd build
  - cmake ..
  - cmake --build . --target Tests
  - cd test
  - ./Tests
  - cd ..
  - cmake --build . --target calc_time
  - valgrind --tool=memcheck --gen-suppressions=all --leak-check=full --track-origins=yes --vgdb=no ./executable/calc_time
  - cd ..
  - cppcheck ./executable
  - cppcheck ./MyLibs
  - cppcheck ./test/test.cpp
